- name: Checkout
  uses: actions/checkout@v4

- name: Setup Node
  uses: actions/setup-node@v4
  with:
    node-version: "20"

- name: Setup pnpm
  uses: pnpm/action-setup@v4
  with:
    version: "9"

- name: Install
  run: pnpm install --frozen-lockfile

- name: Build (for CodeQL extraction)
  run: pnpm exec nx run-many -t build typecheck --all --output-style=stream

- name: Perform CodeQL Analysis
  uses: github/codeql-action/analyze@v3
